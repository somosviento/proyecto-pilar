# === PILAR PROJECT APPLICATION ===
WSGIDaemonProcess proyecto_pilar_app python-home=/var/www/proyecto-pilar/.venv python-path=/var/www/proyecto-pilar

<Location /proyecto-pilar>
    WSGIProcessGroup proyecto_pilar_app
    WSGIApplicationGroup %{GLOBAL}
    # Configurar headers para el basepath
    RequestHeader set X-Script-Name "/proyecto-pilar"
    RequestHeader set X-Forwarded-Proto "https"
</Location>

WSGIScriptAlias /proyecto-pilar /var/www/proyecto-pilar/wsgi.py

<Directory /var/www/proyecto-pilar>
    <Files wsgi.py>
        Require all granted
    </Files>
    Require all granted
    Options FollowSymLinks
</Directory>

# Static files - CORREGIR LA RUTA
Alias /proyecto-pilar/static /var/www/proyecto-pilar/static
<Directory /var/www/proyecto-pilar/static>
    Require all granted
    Options -Indexes
    # Cache para archivos est√°ticos
    <IfModule mod_expires.c>
        ExpiresActive On
        ExpiresByType text/css "access plus 1 month"
        ExpiresByType image/png "access plus 1 month"
        ExpiresByType image/jpg "access plus 1 month"
        ExpiresByType image/jpeg "access plus 1 month"
        ExpiresByType image/gif "access plus 1 month"
        ExpiresByType application/javascript "access plus 1 month"
    </IfModule>
</Directory>